# PROJECT KNOWLEDGE BASE

**Generated:** 2026-02-10 18:56 America/Denver  
**Commit:** `4978f35d`  
**Branch:** `moar-pakidges`

## OVERVIEW
`gqlgen` is a Go GraphQL codegen/runtime project. The repo mixes library/runtime code, code generators, plugin packages, fixture-heavy test matrices, runnable examples, and a Node+Go integration harness.

## STRUCTURE
```text
gqlgen/
├── main.go                # CLI entrypoint (init/generate/version)
├── graphql/               # Runtime, handler, transport, introspection
├── codegen/               # Core generation pipeline and templates
├── plugin/                # Optional generation plugins
├── integration/           # Node+Go end-to-end checks
├── _examples/             # Runnable sample projects
├── client/                # GraphQL test client helpers
└── internal/              # Internal-only helper packages
```

## WHERE TO LOOK
| Task | Location | Notes |
|------|----------|-------|
| CLI behavior (`gqlgen generate/init`) | `main.go` | Uses `api.Generate` and `servergen` |
| Runtime request/response behavior | `graphql/` | See `graphql/handler/*` and transports |
| Generation pipeline changes | `codegen/` | Config loading, data model, templates |
| Plugin-specific generation behavior | `plugin/` | `federation`, `modelgen`, `resolvergen` |
| Cross-language integration failures | `integration/` | Go server + Vitest client tests |
| Example regressions | `_examples/` | Many independent gqlgen layouts |

## CODE MAP
| Symbol | Type | Location | Role |
|--------|------|----------|------|
| `main` | function | `main.go` | CLI command wiring |
| `initCmd` | command | `main.go` | `gqlgen init` scaffolding |
| `generateCmd` | command | `main.go` | `gqlgen generate` path |
| `GenerateCode` | function | `codegen/generate.go` | Primary generation execution |
| `POST`/`GET`/`Websocket` | transport types | `graphql/handler/transport/*.go` | Handler transport surface |

## CONVENTIONS
- Use `.editorconfig` defaults: LF, final newline, trimmed trailing whitespace.
- Keep Go formatting/tabs consistent with existing files (`*.go`, `*.gotpl`).
- Commit generated outputs when source config/schema/template changes require them.
- Prefer focused tests near touched package (`*_test.go`) before broader suites.

## ANTI-PATTERNS (THIS PROJECT)
- Editing files marked `Code generated by ... DO NOT EDIT` by hand.
- Updating plugin/codegen logic without refreshing matching fixture outputs.
- Changing integration behavior without validating `integration/` Node+Go workflow.
- Mixing unrelated refactors into generator bugfixes (fixture diffs get noisy fast).

## UNIQUE STYLES
- Heavy fixture matrices under `codegen/testserver/` and plugin `testdata/`.
- CI helper scripts in `.github/workflows/` are shell scripts, not only YAML jobs.
- Multi-transport GraphQL handler coverage (HTTP, WS, SSE) in runtime tests.

## COMMANDS
```bash
go test -race ./...
(cd _examples && go test -race ./...)
go generate ./...
golangci-lint run ./...
.github/workflows/check-fmt
.github/workflows/check-generate
(cd integration && npm ci && cd .. && .github/workflows/check-integration)
```

## SUBDIRECTORY AGENTS
- `codegen/AGENTS.md`
- `graphql/AGENTS.md`
- `plugin/AGENTS.md`
- `plugin/modelgen/AGENTS.md`
- `plugin/resolvergen/AGENTS.md`
- `plugin/federation/AGENTS.md`
- `integration/AGENTS.md`
- `_examples/AGENTS.md`

## NOTES
- New feature PRs generally target `next` branch.
- For non-trivial changes, include minimal schema/config repro in PR description.
