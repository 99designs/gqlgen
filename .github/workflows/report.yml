name: test report
on:
  workflow_run:
    workflows: ["Test"]
    types:
    - completed
permissions:
  checks: write
jobs:
  checks:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    permissions:
      contents: read
      pull-requests: write
    steps:
    - name: Download Test Report
      uses: dawidd6/action-download-artifact@fe9d59ce33ce92db8a6ac90b2c8be6b6d90417c8 # v15
      with:
        name: junit-test-results
        workflow: ${{ github.event.workflow.id }}
        run_id: ${{ github.event.workflow_run.id }}
    - name: Publish Test Report
      uses: mikepenz/action-junit-report@74626db7353a25a20a72816467ebf035f674c5f8 # v5
      with:
        commit: ${{github.event.workflow_run.head_sha}}
        report_paths: '**/*.xml'
