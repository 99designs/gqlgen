name: test report
on:
  workflow_run:
    workflows: ["Test"]
    types:
    - completed
permissions:
  checks: write
jobs:
  checks:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    permissions:
      contents: read
      pull-requests: write
    steps:
    - name: Download Test Report
      uses: dawidd6/action-download-artifact@5c98f0b039f36ef966fdb7dfa9779262785ecb05 # v14
      with:
        name: junit-test-results
        workflow: ${{ github.event.workflow.id }}
        run_id: ${{ github.event.workflow_run.id }}
    - name: Publish Test Report
      uses: mikepenz/action-junit-report@74626db7353a25a20a72816467ebf035f674c5f8 # v5
      with:
        commit: ${{github.event.workflow_run.head_sha}}
        report_paths: '**/*.xml'
