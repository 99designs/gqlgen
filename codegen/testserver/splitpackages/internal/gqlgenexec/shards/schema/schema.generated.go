// Code generated by github.com/99designs/gqlgen, DO NOT EDIT.

package schema

import (
	"context"
	"strconv"
	"sync/atomic"

	"github.com/99designs/gqlgen/graphql"
	"github.com/99designs/gqlgen/graphql/executor/shardruntime"
	"github.com/99designs/gqlgen/graphql/introspection"
	"github.com/vektah/gqlparser/v2/ast"
)

const splitScope = "github.com/99designs/gqlgen/codegen/testserver/splitpackages"

func init() {
	shardruntime.RegisterObject(splitScope, "Query", func(ctx context.Context, ec shardruntime.ObjectExecutionContext, sel ast.SelectionSet, obj any) graphql.Marshaler {
		return _Query(ctx, ec, sel)
	})
}

var queryImplementors = []string{"Query"}

func _Query(ctx context.Context, ec shardruntime.ObjectExecutionContext, sel ast.SelectionSet) graphql.Marshaler {
	fields := graphql.CollectFields(ec.GetOperationContext(), sel, queryImplementors)
	ctx = graphql.WithFieldContext(ctx, &graphql.FieldContext{
		Object: "Query",
	})

	out := graphql.NewFieldSet(fields)
	deferred := make(map[string]*graphql.FieldSet)
	for i, field := range fields {
		innerCtx := graphql.WithRootFieldContext(ctx, &graphql.RootFieldContext{
			Object: field.Name,
			Field:  field,
		})

		switch field.Name {
		case "__typename":
			out.Values[i] = graphql.MarshalString("Query")
		case "hello":
			field := field

			innerFunc := func(ctx context.Context, fs *graphql.FieldSet) (res graphql.Marshaler) {
				defer func() {
					if r := recover(); r != nil {
						ec.Error(ctx, ec.Recover(ctx, r))
					}
				}()
				res = ec.ResolveField(ctx, "Query", "hello", field, nil)
				if res == graphql.Null {
					atomic.AddUint32(&fs.Invalids, 1)
				}
				return res
			}

			rrm := func(ctx context.Context) graphql.Marshaler {
				return ec.GetOperationContext().RootResolverMiddleware(ctx,
					func(ctx context.Context) graphql.Marshaler { return innerFunc(ctx, out) })
			}

			out.Concurrently(i, func(ctx context.Context) graphql.Marshaler { return rrm(innerCtx) })
		case "__type":
			out.Values[i] = ec.GetOperationContext().RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) {
				return ec.ResolveField(ctx, "Query", "__type", field, nil)
			})
		case "__schema":
			out.Values[i] = ec.GetOperationContext().RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) {
				return ec.ResolveField(ctx, "Query", "__schema", field, nil)
			})
		default:
			panic("unknown field " + strconv.Quote(field.Name))
		}
	}
	out.Dispatch(ctx)
	if out.Invalids > 0 {
		return graphql.Null
	}

	ec.AddDeferred(int32(len(deferred)))

	for label, dfs := range deferred {
		ec.ProcessDeferredGroup(graphql.DeferredGroup{
			Label:    label,
			Path:     graphql.GetPath(ctx),
			FieldSet: dfs,
			Context:  ctx,
		})
	}

	return out
}

// split_fields_.gotpl
func __splitField_Query___schema(ctx context.Context, ec shardruntime.ObjectExecutionContext, field graphql.CollectedField, obj any) graphql.Marshaler {
	_ = ctx
	_ = ec
	_ = field
	_ = obj
	return graphql.Null
}

// split_fields_.gotpl
func __splitField_Query___type(ctx context.Context, ec shardruntime.ObjectExecutionContext, field graphql.CollectedField, obj any) graphql.Marshaler {
	_ = ctx
	_ = ec
	_ = field
	_ = obj
	return graphql.Null
}

// split_fields_.gotpl
func __splitField_Query_hello(ctx context.Context, ec shardruntime.ObjectExecutionContext, field graphql.CollectedField, obj any) graphql.Marshaler {
	_ = ctx
	_ = ec
	_ = field
	_ = obj
	return graphql.Null
}

// split_args_.gotpl
func __splitArgs_field_Query___type_args(_ context.Context, _ shardruntime.ObjectExecutionContext, rawArgs map[string]any) (map[string]any, error) {
	return rawArgs, nil
}

// split_args_.gotpl
func __splitArgs_field_Query_hello_args(_ context.Context, _ shardruntime.ObjectExecutionContext, rawArgs map[string]any) (map[string]any, error) {
	return rawArgs, nil
}

// split_complexity_.gotpl
func __splitComplexity_Query___schema(ctx context.Context, ec shardruntime.ObjectExecutionContext, childComplexity int, rawArgs map[string]any) (int, bool) {
	_ = ctx
	_ = ec
	_ = childComplexity
	_ = rawArgs
	return 0, false
}

// split_complexity_.gotpl
func __splitComplexity_Query___type(ctx context.Context, ec shardruntime.ObjectExecutionContext, childComplexity int, rawArgs map[string]any) (int, bool) {
	_ = ctx
	_ = ec
	_ = childComplexity
	_ = rawArgs
	return 0, false
}

// split_complexity_.gotpl
func __splitComplexity_Query_hello(ctx context.Context, ec shardruntime.ObjectExecutionContext, childComplexity int, rawArgs map[string]any) (int, bool) {
	_ = ctx
	_ = ec
	_ = childComplexity
	_ = rawArgs
	return 0, false
}

// split_codecs_.gotpl
func marshalO__Schema2ᚖgithubᚗcomᚋ99designsᚋgqlgenᚋgraphqlᚋintrospectionᚐSchema(_ context.Context, _ shardruntime.ObjectExecutionContext, _ ast.SelectionSet, _ *introspection.Schema) graphql.Marshaler {
	return graphql.Null
}
